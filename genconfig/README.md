# Genconfig

This package is used during generation of the lantern global configuration.
Currently this is run from cloudmasters and managed by this salt module:
https://github.com/getlantern/lantern-infrastructure/blob/main/salt/update_masquerades

A production binary suitable for cloudmasters can be created by running `make dist`.
The resulting binary `dist-bin/genconfig` can be used to update the corresponding
binary found in the update_masquerades salt module.

The live global.yaml is updated periodically, the current configuration can be fetched with:
`curl https://globalconfig.flashlightproxy.com/global.yaml.gz`

The embedded.go found in flashlight is generated by downloading that file.

## Deployment
Once this is committed to github.com/getlantern/flashlight@main, the server that runs genconfig will automatically
update to the latest version on deployment.
